<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Math & Sciences Hub | The Fountain of Learning</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<!-- HEADER -->
<header class="header">
    <div class="logo-area">
        <img src="images/logo.png" alt="Math & Sciences Hub Logo">
        <div>
            <h1>Math & Sciences Hub</h1>
            <p class="slogan">The Fountain of Learning</p>
        </div>
    </div>

    <nav>
        <a href="#home">Home</a>
        <a href="#about">About</a>
        <a href="#programs">Programs</a>
        <a href="#packages">Packages</a>
        <a href="#how">How It Works</a>
        <a href="#registration">Register</a>
        <a href="#contact">Contact</a>
    </nav>
</header>

<!-- HERO -->
<section id="home" class="hero">
    <h2>From the Classroom to the Future</h2>
    <p>Structured, CAPS-aligned academic support for Grades 8‚Äì12</p>
    <a href="#registration" class="btn-primary">Register Now</a>
</section>

<!-- ABOUT -->
<section id="about" class="section">
    <h2>Who We Are</h2>
    <p>
        Math & Sciences Hub is a community-based academic support centre
        offering high-quality tutoring for Grades 8‚Äì12.
    </p>
    <p>
        With over <strong>8 years of tutoring experience</strong>, including
        service at the <strong>University of Pretoria Pre-University Academy</strong>,
        we are committed to learner success and academic excellence.
    </p>
</section>

<!-- PROGRAMS -->
<section id="programs" class="section light">
    <h2>Our Programs</h2>

    <div class="two-columns">
        <div class="card">
            <h3>Senior Phase (Grades 8‚Äì9)</h3>
            <ul>
                <li>Mathematics</li>
                <li>Natural Sciences & Technology</li>
                <li>EMS</li>
                <li>English</li>
            </ul>
        </div>

        <div class="card">
            <h3>FET Phase (Grades 10‚Äì12)</h3>
            <ul>
                <li>Mathematics</li>
                <li>Mathematical Literacy</li>
                <li>Physical Sciences</li>
                <li>Geography</li>
                <li>Accounting</li>
            </ul>
        </div>
    </div>
</section>

<!-- PACKAGES -->
<section id="packages" class="section">
    <h2>Subjects & Packages</h2>

    <div class="pricing">
        <div class="price-box">
            <h3>Senior Phase (Gr 8‚Äì9)</h3>
            <p>Primary Subject: R130 / month</p>
            <p>Additional Subject: R100 / month</p>
            <p><strong>Registration Fee: R100</strong></p>
        </div>

        <div class="price-box">
            <h3>FET Phase (Gr 10‚Äì12)</h3>
            <p>Primary Subject: R180 / month</p>
            <p>Additional Subject: R130 / month</p>
            <p><strong>Registration Fee: R100</strong></p>
        </div>
    </div>
</section>

<!-- HOW IT WORKS -->
<section id="how" class="section light">
    <h2>How It Works</h2>
    <ul class="how-list">
        <li>Saturday group sessions</li>
        <li>4 sessions per month</li>
        <li>Grades 8‚Äì9: 1 hour per subject</li>
        <li>Grades 10‚Äì12: 1 hour 30 minutes per subject</li>
        <li>Progress tracking & academic reports</li>
    </ul>
</section>

<!-- APPLICATION FORM -->
<section id="registration" class="section">
    <h2>Learner Application Form</h2>
    <form id="applicationForm" enctype="multipart/form-data">

        <label>Student Number</label>
        <input type="text" id="studentNumber" name="student_number" readonly>

        <div class="form-group">
            <label>Learner Full Name *</label>
            <input type="text" name="full_name" required>
        </div>

        <div class="form-group">
            <label>Learner ID Number *</label>
            <input type="text" name="id_number" required>
        </div>

        <div class="form-group">
            <label>Gender *</label>
            <select name="gender" required>
                <option value="">Select Gender</option>
                <option>Male</option>
                <option>Female</option>
            </select>
        </div>

        <div class="form-group">
            <label>Grade *</label>
            <select id="grade" name="grade" onchange="generateStudentNumber(); updateSubjects();" required>
                <option value="">Select Grade</option>
                <option value="8">Grade 8</option>
                <option value="9">Grade 9</option>
                <option value="10">Grade 10</option>
                <option value="11">Grade 11</option>
                <option value="12">Grade 12</option>
            </select>
        </div>

        <h3>Subjects (Select all that apply)</h3>
        <div id="subjects-container" class="checkbox-group">
            <p>Please select a grade first</p>
        </div>

        <label>Selected Package</label>
        <input type="text" id="packageName" name="package_name" readonly>

        <div class="fee-box">
            <strong>Total Fees: R<span id="totalFee">0</span></strong>
        </div>

        <h3>Residential Address</h3>
        <div class="form-row">
            <div class="form-group">
                <label>House / Unit Number *</label>
                <input type="text" name="house_number" required>
            </div>
            <div class="form-group">
                <label>Street Name *</label>
                <input type="text" name="street_name" required>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group">
                <label>Suburb / Location *</label>
                <input type="text" name="suburb" required>
            </div>
            <div class="form-group">
                <label>City / Town *</label>
                <input type="text" name="city" required>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group">
                <label>Province *</label>
                <select name="province" required>
                    <option value="">Select Province</option>
                    <option>Gauteng</option>
                    <option>Limpopo</option>
                    <option>Mpumalanga</option>
                    <option>North West</option>
                    <option>Free State</option>
                    <option>KwaZulu-Natal</option>
                    <option>Eastern Cape</option>
                    <option>Western Cape</option>
                    <option>Northern Cape</option>
                </select>
            </div>
            <div class="form-group">
                <label>Postal Code *</label>
                <input type="text" name="postal_code" maxlength="4" required>
            </div>
        </div>

        <div class="form-group">
            <label>Parent / Guardian Full Name *</label>
            <input type="text" name="parent_name" required>
        </div>

        <div class="form-group">
            <label>Parent / Guardian Contact Number *</label>
            <input type="tel" name="parent_contact" required>
        </div>

        <div class="form-group">
            <label>Email Address</label>
            <input type="email" name="email">
        </div>

        <h3>Supporting Documents</h3>
        <div class="form-row">
            <div class="form-group">
                <label>Upload ID Document *</label>
                <input type="file" name="id_document" accept=".jpg,.jpeg,.png,.pdf" required>
                <small>Accepted formats: JPG, PNG, PDF</small>
            </div>
            <div class="form-group">
                <label>Upload Latest Academic Report *</label>
                <input type="file" name="academic_report" accept=".jpg,.jpeg,.png,.pdf" required>
                <small>Accepted formats: JPG, PNG, PDF</small>
            </div>
        </div>

        <button type="submit" class="btn-primary">Submit Application</button>
    </form>
</section>

<!-- CONTACT -->
<section id="contact" class="section light">
    <h2>Contact Us</h2>
    <p>üìû 065 645 8862</p>
    <p>üìß info@mathscienceshub.co.za</p>
    <p>üìç School-based tutoring centre</p>
</section>

<!-- FOOTER -->
<footer>
    <p>¬© 2026 Math & Sciences Hub | The Fountain of Learning</p>
</footer>

<script>
    // üîí PRICING CONSTANTS
    const PRICING = {
        registrationFee: 100,
        "8-9": { primary: 130, additional: 100, subjects: ["Mathematics", "Natural Sciences", "EMS", "English"] },
        "10-12": { primary: 180, additional: 130, subjects: ["Mathematics", "Mathematics Literacy", "Physical Sciences", "Geography", "Accounting"] }
    };

    const gradeSelect = document.getElementById("grade");
    const subjectsContainer = document.getElementById("subjects-container");
    const totalFeeDisplay = document.getElementById("totalFee");
    const studentNumberField = document.getElementById("studentNumber");

   // ========== AUTOMATIC STUDENT NUMBER GENERATION (PERSISTENT) ==========
function generateStudentNumber() {
    const grade = gradeSelect.value;
    if (!grade) {
        studentNumberField.value = "";
        return;
    }

    const year = new Date().getFullYear();
    const gradePadded = String(grade).padStart(2, "0"); // ensures 08, 09, 10, 11, 12
    const storageKey = `appCount_${year}_${gradePadded}`;

    // Retrieve last saved count, increment
    let count = localStorage.getItem(storageKey);
    count = count ? parseInt(count) + 1 : 1;
    localStorage.setItem(storageKey, count);

    const paddedCount = String(count).padStart(3, "0"); // ensures 001, 002, 010 etc.

    studentNumberField.value = `MSH${year}${gradePadded}${paddedCount}`;
}


    // ========== SUBJECT SELECTION & FEE CALCULATION ==========
    function updateSubjects() {
        subjectsContainer.innerHTML = "";
        const grade = gradeSelect.value;
        if (!grade) {
            subjectsContainer.innerHTML = "<p>Please select a grade first</p>";
            return;
        }

        const subjectList = grade <= 9 ? PRICING["8-9"].subjects : PRICING["10-12"].subjects;
        subjectList.forEach(subj => {
            const label = document.createElement("label");
            const checkbox = document.createElement("input");
            checkbox.type = "checkbox";
            checkbox.value = subj;
            checkbox.addEventListener("change", calculateFee);
            label.appendChild(checkbox);
            label.append(` ${subj}`);
            subjectsContainer.appendChild(label);
        });

        calculateFee();
    }

    function calculateFee() {
        const selectedSubjects = Array.from(subjectsContainer.querySelectorAll("input:checked")).map(cb => cb.value);
        if (!gradeSelect.value) return;
        const grade = gradeSelect.value;
        let total = PRICING.registrationFee;
        if (selectedSubjects.length > 0) {
            const pricingInfo = grade <= 9 ? PRICING["8-9"] : PRICING["10-12"];
            total += pricingInfo.primary + (selectedSubjects.length - 1) * pricingInfo.additional;
        }
        totalFeeDisplay.textContent = total;

        // Determine package
        const packageField = document.getElementById("packageName");
        if (!packageField) return;
        if (grade <= 9) packageField.value = "Senior Phase Support Package";
        else {
            if (selectedSubjects.includes("Mathematics") && selectedSubjects.includes("Physical Sciences")) packageField.value = "STEM Package";
            else if (selectedSubjects.includes("Mathematics Literacy") && selectedSubjects.includes("Accounting")) packageField.value = "Commerce Package";
            else packageField.value = "General Support Package";
        }
    }

    // ========== FORM SUBMISSION ==========
    document.getElementById("applicationForm").addEventListener("submit", function(e) {
        const checkedSubjects = subjectsContainer.querySelectorAll("input:checked");
        if (checkedSubjects.length === 0) {
            alert("Please select at least one subject.");
            e.preventDefault();
            return;
        }

        alert(`Application submitted successfully! Your Student Number is: ${studentNumberField.value}`);
        generateStudentNumber(); // Prepare next number
    });
</script>

</body>
</html>

